<h2></h2>-c-c-c-<h1 style="font-size: 250%;">ロボットシステム学</h1>-c-c-c-<h2>第12回</h2>-c-c-c-上田 隆一-c-c-c--c-c-c-2017年1月11日\@千葉工業大学-c-c-c--c-c-c-<!--nextpage-->-c-c-c-<h2>本日の内容</h2>-c-c-c-<ul>-c-c-c- 	<li>通信・暗号（その2）</li>-c-c-c- 	<li>Raspbian -&gt; Ubuntu</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>暗号</h2>-c-c-c-<ul>-c-c-c- 	<li>通信において重要な役割-c-c-c-<ul>-c-c-c- 	<li>暗号化していないパケットの内容は簡単に覗ける</li>-c-c-c- 	<li>インターネットのパケットはどこを通るか分からない</li>-c-c-c- 	<li>通販サイトで暗号化していないとどうなるか？</li>-c-c-c- 	<li>ネットワークカメラで暗号化していないとどうなるか？</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>暗号化の方式-c-c-c-<ul>-c-c-c- 	<li>ざっくり分類: 共通鍵暗号方式、公開鍵暗号方式</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>共通鍵暗号方式</h2>-c-c-c-<ul>-c-c-c- 	<li>基本的にはパスワードの延長線上にあるもの</li>-c-c-c- 	<li>データを鍵で暗号化し、同じ鍵で復号</li>-c-c-c- 	<li>送信者と受信者が同じ鍵を持つ</li>-c-c-c- 	<li><span style="color: #ff0000;">通信の時の問題: どうやって鍵を交換するか？</span>-c-c-c-<ul>-c-c-c- 	<li>「別のメールでパスワードを送ります」等、アホな習慣でごまかしている状況</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>公開鍵暗号方式</h2>-c-c-c-<ul>-c-c-c- 	<li>二つの鍵を使う-c-c-c-<ul>-c-c-c- 	<li><span style="color: #ff0000;">「公開鍵」と「秘密鍵」</span></li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>公開鍵-c-c-c-<ul>-c-c-c- 	<li>暗号化に用いる。人に見せても良い</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>秘密鍵-c-c-c-<ul>-c-c-c- 	<li>複号に用いる。人に見せてはいけない</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li><span style="color: #ff0000;">誰でもデータを暗号化できるが、復号できるのは秘密鍵の所有者のみ</span></li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>セキュアシェル（SSH）</h2>-c-c-c-<ul>-c-c-c- 	<li>セキュアシェル（SSH）-c-c-c-<ul>-c-c-c- 	<li>遠隔の計算機と暗号通信をするためのプロトコル</li>-c-c-c- 	<li>コマンドのssh(1) はセキュアシェルを使って遠隔の計算機と通信するためのもの</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>特に暗号化が必要のないところでも使うことになっている-c-c-c-<ul>-c-c-c- 	<li>かつてはrshというものがあったが使わないことになっている</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>サーバへのssh接続</h2>-c-c-c-<ul>-c-c-c- 	<li>パスワードを使う場合-c-c-c-<ol>-c-c-c- 	<li>パスワードを送る前にサーバからクライアントへ公開鍵というものが送られる</li>-c-c-c- 	<li>クライアントは以下をサーバに送信-c-c-c-<ul>-c-c-c- 	<li>もらった公開鍵で通信用の共通鍵を暗号化したもの</li>-c-c-c- 	<li>パスワードを共通鍵で暗号化したもの</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>サーバは自身の秘密鍵でもらった共通鍵とパスワードを復元共通鍵で通信開始</li>-c-c-c-</ol>-c-c-c-</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>SSHの鍵認証</h2>-c-c-c-<ul>-c-c-c- 	<li>パスワードの代わりに公開鍵を使う</li>-c-c-c- 	<li>方法-c-c-c-<ol>-c-c-c- 	<li>クライアント側（自分のノートPC等）で秘密鍵と公開鍵を作る-c-c-c-<pre><span style="color: #ffffff;">$ mkdir .ssh</span>-c-c-c-<span style="color: #ffffff;">$ chmod 700 .ssh/</span>-c-c-c-<span style="color: #ffffff;">$ cd .ssh/</span>-c-c-c-<span style="color: #ffffff;">$ ssh-keygen</span>-c-c-c-<span style="color: #ffffff;">###いろいろ聞かれるが基本returnで</span><span style="color: #ffffff;"> （一度はちゃんと読みましょう）###</span></pre>-c-c-c-</li>-c-c-c- 	<li>自分の公開鍵をサーバ側（Raspberry Pi等）のauthorized_keysに登録</li>-c-c-c- 	<li>-c-c-c-<pre><span style="color: #ffffff;">###サーバのIPアドレスにscp###</span>-c-c-c-<span style="color: #ffffff;">$ scp ~/.ssh/id_rsa.pub pi\@192.168.?.?:~/</span>-c-c-c-<span style="color: #ffffff;">$ ssh pi\@192.168.?.?</span>-c-c-c-<span style="color: #ffffff;">$ cat id_rsa.pub &gt;&gt; .ssh/authorized_keys</span>-c-c-c-<span style="color: #ffffff;">$ chmod 600 .ssh/authorized_keys</span></pre>-c-c-c-</li>-c-c-c-</ol>-c-c-c-</li>-c-c-c- 	<li><a href="http://webkaru.net/linux/tera-term-ssh-login-public-key/">Windowsの場合</a></li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c--c-c-c-&nbsp;
