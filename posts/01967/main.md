<h1 style="font-size: 250%;">ロボットシステム学</h1>-c-c-c-<h2>第5回</h2>-c-c-c-上田 隆一-c-c-c--c-c-c-2016年10月?日\@千葉工業大学-c-c-c--c-c-c-<!--nextpage-->-c-c-c-<h2>今日の内容</h2>-c-c-c-<ul>-c-c-c- 	<li>ファイルシステムとデバイス</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>カーネルの再構築（宿題）</h2>-c-c-c-<ul>-c-c-c- 	<li>LinuxをGitHubからクローンしてビルドしてカーネルを作ります</li>-c-c-c- 	<li>手順-c-c-c-<ol>-c-c-c- 	<li><span style="color: #00ffff;">$ git clone https://github.com/ryuichiueda/raspberry_pi_kernel_build_scripts.git</span></li>-c-c-c- 	<li><span style="color: #00ffff;">$ cd raspberry_pi_kernel_build_scripts</span></li>-c-c-c- 	<li><span style="color: #00ffff;">$ sudo ./kernel_build_and_install_for_pi2_pi3.bash</span></li>-c-c-c- 	<li><span style="color: #00ffff;">$ sudo reboot</span></li>-c-c-c-</ol>-c-c-c-</li>-c-c-c- 	<li>スクリプトの中は一度読んでおいてください</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>カーネルの入れ替わりの確認</h2>-c-c-c-<ul>-c-c-c- 	<li>uname -aでビルドされた日時を確認</li>-c-c-c-</ul>-c-c-c-<pre><span style="color: #ffffff;">pi\@raspberrypi:~ $ uname -a-c-c-c-Linux raspberrypi 4.4.22-v7+ #1 SMP Mon Sep 26 13:11:18 JST 2016 armv7l GNU/Linux</span></pre>-c-c-c-<!--nextpage-->-c-c-c-<h2>ファイルシステム</h2>-c-c-c-<ul>-c-c-c- 	<li>OS の最重要機能の一つ</li>-c-c-c- 	<li>機能-c-c-c-<ul>-c-c-c- 	<li>誰にでも分かりやすいもの</li>-c-c-c- 	<li>HDDを使えるようにする</li>-c-c-c- 	<li>USBメモリを使えるようにする</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>人によっては意外なもの-c-c-c-<ul>-c-c-c- 	<li>外部の機器（センサ等）を使えるようにする</li>-c-c-c- 	<li>OS と通信する</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>ローカルファイルシステム</h2>-c-c-c-<ul>-c-c-c- 	<li>何百万、何百兆のゼロイチの並びのどこにファイル・ディレクトリ、その他メタデータ等を置くかを規定・実現</li>-c-c-c- 	<li>主なファイルシステム-c-c-c-<ul style="font-size: 80%;">-c-c-c- 	<li>ext4, ext3, ext2 (extended le system): Linux</li>-c-c-c- 	<li>UFS2 (UNIX File System2): FreeBSD</li>-c-c-c- 	<li>HFS+ (Hierarchical File System Plus): Mac OS X</li>-c-c-c- 	<li>NTFS (NT File System): Windows</li>-c-c-c- 	<li>FAT16, FAT32, exFAT: Windows（USB メモリ等）</li>-c-c-c- 	<li>他にZFS, XFS</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>特殊なファイルシステム-c-c-c-<ul>-c-c-c- 	<li>procfs, sysfs, tmpfs, スワップファイルシステム</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>ストレージがあったら、いくつかのパーティションに分け、それぞれの形式でファイルシステムをフォーマットして使う</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>デバイスドライバ</h2>-c-c-c-<ul>-c-c-c- 	<li>機器の機能をユーザが使えるようにするプログラム</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>回路の例<a href="https://lab.ueda.asia/wp-content/uploads/2016/09/gpio25.jpg"><img class="alignright size-medium wp-image-1706" src="https://lab.ueda.asia/wp-content/uploads/2016/09/gpio25-300x225.jpg" alt="gpio25" width="300" height="225" /></a></h2>-c-c-c-<ul>-c-c-c- 	<li>GPIO25とGNDの間にLEDを接続-c-c-c-<ul>-c-c-c- 	<li>GPIO25: 22番ピン</li>-c-c-c- 	<li>GND: 39番ピン</li>-c-c-c- 	<li>LEDのアノード（足の長い方）をGPIO25に</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>抵抗はなくても特に問題ない-c-c-c-<ul>-c-c-c- 	<li>抵抗をつなぐとLEDに優しい</li>-c-c-c- 	<li>抵抗をつなぐ場合は200-300Ω程度（適当）</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->
