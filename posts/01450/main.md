<h1 style="font-size: 250%;">ロボットシステム学</h1>-c-c-c-<h2>第2回</h2>-c-c-c-上田 隆一-c-c-c--c-c-c-2016年9月?日\@千葉工業大学-c-c-c--c-c-c-<!--nextpage-->-c-c-c-<h2>今日の内容</h2>-c-c-c-<ul>-c-c-c- 	<li>ノートPCとラズパイを接続</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>やること</h2>-c-c-c-<ul>-c-c-c- 	<li>下の写真のようにノートPCとラズパイを有線LANで直接接続</li>-c-c-c- 	<li>次のような接続を構成-c-c-c-<ul>-c-c-c- 	<li>ラズパイ -&gt; 有線LAN -&gt; ノートPC -&gt; ノートPCのWiFi -&gt; インターネット</li>-c-c-c- 	<li>つまりノートPCをルータにする</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>ノートPCのOS別設定方法</h2>-c-c-c-<ul>-c-c-c- 	<li>Windows: <a href="https://blog.ueda.asia/?p=8694" target="_blank">https://blog.ueda.asia/?p=8694</a>-c-c-c-<ul>-c-c-c- 	<li>拙ブログですみません</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>Mac: <a href="https://blog.ueda.asia/?p=8717" target="_blank">https://blog.ueda.asia/?p=8717</a>-c-c-c-<ul>-c-c-c- 	<li>こちらも拙ブログですみません</li>-c-c-c- 	<li>ラズパイのIPの調べ方-c-c-c-<ul>-c-c-c- 	<li>-c-c-c-<p class="p1"><span class="s1">$ nmap -sP &lt;有線側のセグメント&gt;</span></p>-c-c-c-</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>Linux: DHCPを立てるのが面倒なので割愛</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>Linuxの世界</h2>-c-c-c-<ul>-c-c-c- 	<li>ほぼ全てテキストファイルでできている-c-c-c-<ul>-c-c-c- 	<li>設定ファイル等-c-c-c-<ul>-c-c-c- 	<li>/etc下のファイルを見てみましょう</li>-c-c-c- 	<li><span style="color: #ccffff;"><code>$ cat /etc/passwd</code></span></li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>どうやって見る？編集する？-c-c-c-<ul>-c-c-c- 	<li><span style="color: #ffff00;">エディタ</span></li>-c-c-c- 	<li><span style="color: #ffff00;">コマンド</span></li>-c-c-c- 	<li>使えないとかなりストレス-c-c-c-<ul>-c-c-c- 	<li>自転車と一緒で使えると自然に使えるようになるので-c-c-c-我慢して慣れられるかどうかで今後が変わる</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>エディタ</h2>-c-c-c-<ul>-c-c-c- 	<li>（CUI）でテキストファイルを読み書きするもの-c-c-c-<ul>-c-c-c- 	<li>EmacsとVimがメジャー</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>特にここでは説明しません-c-c-c-<ul>-c-c-c- 	<li>練習コマンドがあるのでそれで練習を</li>-c-c-c- 	<li>Vimにはvimtutorというコマンドがあり、-c-c-c-最初はこれをやるのが一番良い</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>コマンド</h2>-c-c-c-<ul>-c-c-c- 	<li>CUIからプログラムを起動する場合は字をシェルに打ち込むが、-c-c-c-その字のこと-c-c-c-<ul>-c-c-c- 	<li>プログラム自身のことも指し、このスライドではプログラム自身のこと</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>だいたいこの二種類-c-c-c-<ul>-c-c-c- 	<li>システム操作のためのコマンド-c-c-c-<ul>-c-c-c- 	<li>サービスを立ち上げたり止めたり</li>-c-c-c- 	<li>これはマニュアルを見たら覚えられる</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>フィルタコマンド-c-c-c-<ul>-c-c-c- 	<li>標準入力から文字を受けて標準出力に加工した字を出すもの</li>-c-c-c- 	<li>組み合わせて使う（マニュアルがあまりない）</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>フィルタコマンド</h2>-c-c-c-<ul>-c-c-c- 	<li>多数: grep, find, wc, ...-c-c-c-<ul>-c-c-c- 	<li>/bin/下に存在</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>とりあえず最初に覚えるもの-c-c-c-<ul>-c-c-c- 	<li>cat: 表示</li>-c-c-c- 	<li>sudo: root権限でコマンドを実行-c-c-c-<ol>-c-c-c- 	<li><span style="color: #00ffff;">$ sudo cat /etc/shadow</span></li>-c-c-c-</ol>-c-c-c-</li>-c-c-c- 	<li>grep: 検索-c-c-c-<ol>-c-c-c- 	<li><span style="color: #00ffff;">$ grep ueda /etc/passwd</span></li>-c-c-c- 	<li><span style="color: #ccffff;">ueda:x:1000:1000:Ryuichi UEDA,,,:/home/ueda:/bin/bash</span></li>-c-c-c-</ol>-c-c-c-</li>-c-c-c- 	<li>find: ファイルの列挙-c-c-c-<ul>-c-c-c- 	<li>使い方の例-c-c-c-<ol>-c-c-c- 	<li><span style="color: #00ffff;">$ find /</span></li>-c-c-c-</ol>-c-c-c-</li>-c-c-c- 	<li>出力がザーッと出て使いにくくないか？</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>コマンドの組み合わせ</h2>-c-c-c-<ul>-c-c-c- 	<li>特定のファイルを探すには？-c-c-c-<ul>-c-c-c- 	<li>例: passwdファイルってどこにあったけ？</li>-c-c-c- 	<li>grepと組み合わせる-c-c-c-<ol>-c-c-c- 	<li><span style="color: #00ffff;">sudo find | grep passwd</span></li>-c-c-c- 	<li><span style="color: #ccffff;">[sudo] password for ueda:</span></li>-c-c-c- 	<li><span style="color: #ccffff;">./var/lib/dpkg/info/passwd.postinst</span></li>-c-c-c- 	<li><span style="color: #ccffff;">./var/lib/dpkg/info/base-passwd.postinst</span></li>-c-c-c- 	<li><span style="color: #ccffff;">./var/lib/dpkg/info/passwd.preinst</span></li>-c-c-c-</ol>-c-c-c-</li>-c-c-c- 	<li>さらに絞り込む（grepで正規表現を使う）-c-c-c-<ol>-c-c-c- 	<li><span style="color: #00ffff;">$ sudo find / | grep '/passwd$'</span></li>-c-c-c- 	<li><span style="color: #ccffff;">/var/tmp/etc/init.d/passwd</span></li>-c-c-c- 	<li><span style="color: #ccffff;">/var/tmp/etc/cron.daily/passwd</span></li>-c-c-c- 	<li><span style="color: #ccffff;">...</span></li>-c-c-c-</ol>-c-c-c-</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>正規表現の例</h2>-c-c-c-<ul>-c-c-c- 	<li>正規表現の例-c-c-c-<ul>-c-c-c- 	<li> /etc/servicesの調査-c-c-c-<ol>-c-c-c- 	<li><span style="color: #00ffff;">$ cat /etc/services | grep 80</span>　　         #80を検索</li>-c-c-c- 	<li><span style="color: #ccffff;">$ cat /etc/services | grep '[^0-9]80/'  </span>#80番ポートのレコードだけ検索</li>-c-c-c- 	<li><span style="color: #ccffff;">$ cat /etc/services | grep ftp                </span>#ftpという語句を検索</li>-c-c-c- 	<li><span style="color: #ccffff;">$ cat /etc/services | grep ^ftp       </span>#最初がftpで始まる行を検索</li>-c-c-c-</ol>-c-c-c-</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>上級者向け-c-c-c-<ul>-c-c-c- 	<li>AWKとgrepで10000番ポート以上のレコードを抽出のこと</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>ファイルの操作</h2>-c-c-c-<ul>-c-c-c- 	<li>ls, mv, rm, cp, mkdir, rmdir-c-c-c-<ul>-c-c-c- 	<li>口頭で説明します</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>apt, apt-get</h2>-c-c-c-<ul>-c-c-c- 	<li>ソフトウェアのインストール-c-c-c-<ul>-c-c-c- 	<li>API (Advanced Packaging Tool): Debian系Linuxの-c-c-c-パッケージシステム</li>-c-c-c- 	<li>使用例-c-c-c-<ul>-c-c-c- 	<li><span class="s1" style="color: #00ffff;">$</span><span class="s2"><span style="color: #00ffff;"> sudo apt-get install nmap</span>   #旧</span></li>-c-c-c- 	<li><span style="color: #00ffff;">$ sudo apt install nmap</span>         #新</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>ping</h2>-c-c-c-<ul>-c-c-c- 	<li>通信先にパケットが届くか確認する時によく使う-c-c-c-<ol>-c-c-c- 	<li><span style="color: #00ffff;">$ ping 8.8.8.8</span>-c-c-c-<ul>-c-c-c- 	<li>GoogleのDNSにパケットが届くか確認</li>-c-c-c- 	<li>インターネットに出られるか確認する時によく使用</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li><span style="color: #00ffff;">$ ping www.yahoo.co.jp</span>-c-c-c-<ul>-c-c-c- 	<li>ドメイン名をIPに変換できるか（名前解決）を確認する時に使用</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li><span style="color: #00ffff;">$ ping 192.168.1.254</span>-c-c-c-<ul>-c-c-c- 	<li>192.168.1.254に届くか確認-c-c-c-<ul>-c-c-c- 	<li>（192.168.1.254はルーターっぽいIPアドレス）</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ol>-c-c-c-<ul>-c-c-c- 	<li>たまにセキュリティーのために先方がふさがっていることがある</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>nmap</h2>-c-c-c-<ul>-c-c-c- 	<li>ネットワークのスキャン-c-c-c-<ul>-c-c-c- 	<li><span style="color: #ffff00;">インターネットに向けてやると最悪裁判になるので注意</span></li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>使用例</li>-c-c-c-</ul>-c-c-c-<!--nextpage-->-c-c-c-<h2>停止・再起動</h2>-c-c-c-<ul>-c-c-c- 	<li>停止-c-c-c-<ul>-c-c-c- 	<li>次の2通り-c-c-c-<ul>-c-c-c- 	<li><span style="color: #00ffff;">$ sudo shutdown -h now</span></li>-c-c-c- 	<li><span style="color: #00ffff;">$ sudo poweroff</span></li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>Linuxはデータをストレージに後から書き込むので 、ラズパイの場合は緑のランプが点滅しなくなるまでよく待つ-c-c-c-<ul>-c-c-c- 	<li>ストレージ: HDD, SSD, microSD, ...</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>一方、ラズパイはプログラムやデータ等を別のマシンで管理する-c-c-c-場合が多いのでブチ切りする人が多く、特に問題にならない</li>-c-c-c-</ul>-c-c-c-</li>-c-c-c- 	<li>再起動-c-c-c-<ul>-c-c-c- 	<li><span style="color: #00ffff;">$ sudo reboot</span></li>-c-c-c-</ul>-c-c-c-</li>-c-c-c-</ul>
